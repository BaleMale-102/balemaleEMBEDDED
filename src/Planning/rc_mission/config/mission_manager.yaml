mission_manager_node:
  ros__parameters:
    # topics
    task_cmd_topic: /server/task_cmd
    task_status_topic: /server/task_status
    mission_state_topic: /mission/state
    marker_topic: /perception/marker_pose

    # planner debug topics
    turn_rad_topic: /planning/turn_rad
    turn_action_topic: /planning/turn_action
    next_distance_topic: /planning/next_distance
    next_marker_id_topic: /planning/next_marker_id

    # gating/control topics
    enable_drive_topic: /control/enable_drive
    turn_target_topic: /mission/turn_target_rad

    publish_rate_hz: 10.0

    # marker
    min_marker_quality: 0.3
    marker_timeout_sec: 1.0
    require_marker_in_route: true
    marker_debounce_sec: 0.25

    # stop/turn
    hold_sec: 0.20
    wz_turn: 0.8
    min_turn_rad: 0.35

    # advance
    use_advance_to_center: true
    center_offset_m: 0.16
    advance_vx: 0.12
    advance_min_sec: 0.20
    advance_max_sec: 3.0
    advance_then_stop: true

    accept_route_restart: true

    # imu turn
    use_imu_turn: true
    imu_topic: /imu/data
    imu_timeout_ms: 200
    turn_fallback_to_time: true
    yaw_tol_rad: 0.06
    settle_gyro_z: 0.12
    max_turn_sec: 4.0

    # map
    marker_map_yaml: /home/a102/ws/config/marker_map.yaml
    nav_id_min: 0
    nav_id_max: 15
    straight_threshold_rad: 0.35
    uturn_threshold_rad: 2.60

    # ALIGN
    use_align_to_marker: true
    align_timeout_sec: 1.8
    align_done_topic: /mission/align_done

    # 안정화: STOP_BUMP before TURN
    use_stop_bump_before_turn: true
    stop_bump_sec: 0.12

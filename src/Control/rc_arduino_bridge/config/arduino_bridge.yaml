arduino_bridge_node:
  ros__parameters:
    # =========================
    # Input topic / mode
    # =========================
    # drive_cmd: rc_interfaces/msg/DriveCmd (enable + vx vy wz)
    # cmd_vel  : geometry_msgs/msg/Twist (/cmd_vel)
    input: "drive_cmd"
    drive_cmd_topic: "/control/drive_cmd_safe"

    # =========================
    # Serial
    # =========================
    port: "/dev/ttyUSB0"
    baud: 115200

    # UNO reset 방지용 (드라이버에 따라 효과)
    disable_dtr_rts: true

    # =========================
    # TX scheduling / watchdog
    # =========================
    tx_hz: 50.0
    watchdog_ms: 200

    # =========================
    # Command scaling (normalize divisor)
    # D vx vy wz 는 -1~+1 로 보내므로,
    # 실제 최대 속도/각속도 기준으로 나눔.
    # =========================
    max_vx: 0.40
    max_vy: 0.40
    max_wz: 1.20

    # =========================
    # Arduino protocol
    # =========================
    arduino_max_pwm: 1900
    handshake_timeout_ms: 4000

    # =========================
    # Logging
    # =========================
    debug_log: true
